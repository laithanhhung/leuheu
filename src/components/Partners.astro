---
import { getCollection } from "astro:content";

const partners = await getCollection("partners");
const sortedPartners = partners.sort(
    (a, b) => (a.data.order || 0) - (b.data.order || 0),
);
---

<section
    class="bg-black text-white py-16 px-4 md:px-8 border-t border-gray-900 overflow-hidden"
>
    <h2
        class="text-center text-gray-500 text-sm font-bold uppercase tracking-widest mb-12"
    >
        Trusted by top-tier partners
    </h2>

    <div class="flex flex-wrap justify-center gap-8 md:gap-16 opacity-50">
        {
            sortedPartners.map((partner) => (
                <div class="w-24 md:w-32 hover:opacity-100 transition-opacity">
                    <img
                        src={partner.data.logo}
                        alt={partner.data.name}
                        class="w-full h-auto grayscale hover:grayscale-0 transition-all"
                    />
                </div>
            ))
        }
    </div>
</section>
